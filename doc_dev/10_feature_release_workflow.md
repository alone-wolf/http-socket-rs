# feature、版本与发布流程

## 1. feature 接入流程

1. 提交 feature 设计说明（目标、依赖、兼容影响）。
2. 明确默认关闭与依赖隔离策略。
3. 补齐 feature 开启/关闭测试。
4. 更新 `doc_design` 与 `doc_dev` 对应文档。

## 2. 版本策略

- 新能力：优先 minor 版本增量发布。
- 破坏性变更：仅在 major 版本处理，必须提供迁移指南。
- 弃用项：至少一个 minor 周期预告再移除。

## 3. 发布前检查

- [ ] feature 组合编译验证通过。
- [ ] API 变更有文档与示例更新。
- [ ] 错误模型与观测字段未破坏兼容。
- [ ] 协商协议变更包含向后兼容策略。

## 4. 长期演进守则

- 新 transport（如 QUIC/WebTransport）通过注册点接入，不改会话核心。
- 新 codec 通过 id/version 协商引入，不替换旧默认能力。
- 分布式存储通过 `SessionStore` 抽象平滑演进。
